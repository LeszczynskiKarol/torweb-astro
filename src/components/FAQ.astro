---
const faqs = [
  {
    question: 'Ile kosztuje strona internetowa w Toruniu?',
    answer: 'Ceny stron internetowych zaczynają się od 1 990 zł za prostą wizytówkę. Profesjonalna strona firmowa to koszt od 3 990 zł, a sklep internetowy od 4 990 zł. Dokładna wycena zależy od zakresu projektu — przygotowuję ją bezpłatnie w ciągu 24 godzin.'
  },
  {
    question: 'Jak długo trwa stworzenie strony WWW?',
    answer: 'Prosta strona wizytówkowa powstaje w 7 dni. Rozbudowana strona firmowa z CMS zajmuje około 14 dni. Sklep internetowy z integracjami to 3-4 tygodnie. Zawsze podaję konkretny termin w wycenie i go dotrzymuję.'
  },
  {
    question: 'Czy mogę sam edytować treści na stronie?',
    answer: 'Tak, wszystkie strony wyposażam w intuicyjny panel CMS. Możesz samodzielnie dodawać artykuły, zmieniać zdjęcia, aktualizować ofertę. Po wdrożeniu przeprowadzam szkolenie z obsługi.'
  },
  {
    question: 'Czy strona będzie widoczna w Google?',
    answer: 'Tak, każdą stronę buduję od podstaw z myślą o SEO. Struktura URL, meta tagi, schema.org, sitemap, szybkość ładowania — wszystko jest zoptymalizowane. Moje strony osiągają PageSpeed 90+ co pozytywnie wpływa na pozycję w Google.'
  },
  {
    question: 'Czy oferujesz wsparcie po wdrożeniu strony?',
    answer: 'Tak, do każdego pakietu dołączam okres wsparcia technicznego (1-6 miesięcy w zależności od pakietu). Po tym okresie możesz wykupić abonament wsparcia od 299 zł/mies. Jestem dostępny dla klientów również po zakończeniu projektu.'
  },
  {
    question: 'Jakie technologie wykorzystujesz do tworzenia stron?',
    answer: 'Wykorzystuję najnowsze technologie: Next.js, React, Astro, Node.js, TypeScript. To gwarantuje szybkość, bezpieczeństwo i skalowalność. Nie tworzę stron na przestarzałych platformach jak WordPress — chyba że klient tego wymaga.'
  },
  {
    question: 'Czy możesz zrobić sklep internetowy z integracją Allegro?',
    answer: 'Tak, specjalizuję się w sklepach z pełną integracją Allegro. Automatyczna synchronizacja produktów, stanów magazynowych i zamówień. Sprzedajesz w jednym miejscu, a system aktualizuje wszystko automatycznie.'
  },
  {
    question: 'Czy oferujesz migracje z WooCommerce na inne platformy?',
    answer: 'Tak, wykonuję migracje sklepów z WooCommerce na szybsze, dedykowane rozwiązania. Przenosimy wszystkie produkty, klientów i zamówienia. Gwarantuję 100% zachowania pozycji SEO i przekierowania URL.'
  },
  {
    question: 'Czy możemy spotkać się osobiście w Toruniu?',
    answer: 'Tak, jestem z Torunia i chętnie spotykam się z klientami. Możemy omówić projekt przy kawie, podpisać umowę osobiście. Po wdrożeniu jestem na miejscu gdy potrzebujesz wsparcia.'
  },
  {
    question: 'Czy tworzysz też aplikacje z wykorzystaniem AI?',
    answer: 'Tak, specjalizuję się w integracjach AI. Tworzę chatboty, systemy automatyzacji treści, platformy SaaS z wykorzystaniem Claude AI i GPT. Mam na koncie kilka działających platform AI z tysiącami użytkowników.'
  }
];

const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": faqs.map(faq => ({
    "@type": "Question",
    "name": faq.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": faq.answer
    }
  }))
};
---

<section id="faq" class="py-24 lg:py-32 relative">
  <!-- Background -->
  <div class="absolute inset-0 bg-gradient-to-b dark:from-dark-950 dark:via-dark-900/30 dark:to-dark-950 from-slate-50 via-white to-slate-50 -z-10"></div>
  
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Section Header -->
    <div class="text-center mb-16 animate-on-scroll">
      <span class="inline-block px-4 py-1.5 rounded-full glass text-accent-secondary text-sm font-mono mb-6">
        &lt;faq /&gt;
      </span>
      <h2 class="font-display font-bold text-3xl sm:text-4xl lg:text-5xl mb-6 text-heading">
        Często zadawane <span class="gradient-text">pytania</span>
      </h2>
      <p class="text-muted text-lg">
        Odpowiedzi na najczęstsze pytania o tworzenie stron internetowych.
      </p>
    </div>
    
    <!-- FAQ Accordion -->
    <div class="space-y-4">
      {faqs.map((faq, i) => (
        <div class={`group glass rounded-xl hover:border-accent transition-all animate-on-scroll animate-delay-${Math.min((i + 1) * 50, 500)}`}>
          <button 
            class="faq-trigger w-full flex items-center justify-between p-6 text-left"
            aria-expanded="false"
          >
            <span class="font-semibold text-heading pr-4">{faq.question}</span>
            <svg class="w-5 h-5 text-faint flex-shrink-0 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          <div class="faq-content hidden px-6 pb-6">
            <p class="text-muted leading-relaxed">{faq.answer}</p>
          </div>
        </div>
      ))}
    </div>
    
    <!-- Additional Questions CTA -->
    <div class="mt-12 text-center glass rounded-2xl p-8 animate-on-scroll">
      <h3 class="font-display font-semibold text-xl text-heading mb-4">Masz inne pytanie?</h3>
      <p class="text-muted mb-6">Chętnie odpowiem na wszystkie Twoje wątpliwości.</p>
      <div class="flex flex-wrap justify-center gap-4">
        <a 
          href="tel:+48509370772"
          class="inline-flex items-center gap-2 px-6 py-3 bg-elevated rounded-lg text-heading hover:bg-card transition-colors"
        >
          <svg class="w-5 h-5 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
          </svg>
          <span>509 370 772</span>
        </a>
        <a 
          href="mailto:kontakt@torweb.pl"
          class="inline-flex items-center gap-2 px-6 py-3 bg-elevated rounded-lg text-heading hover:bg-card transition-colors"
        >
          <svg class="w-5 h-5 text-accent-secondary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
          </svg>
          <span>kontakt@torweb.pl</span>
        </a>
      </div>
    </div>
  </div>
  
  <!-- FAQ Schema -->
  <script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />
</section>

<script>
  document.querySelectorAll('.faq-trigger').forEach(button => {
    button.addEventListener('click', () => {
      const content = button.nextElementSibling;
      const icon = button.querySelector('svg');
      const isExpanded = button.getAttribute('aria-expanded') === 'true';
      
      document.querySelectorAll('.faq-trigger').forEach(otherButton => {
        if (otherButton !== button) {
          otherButton.setAttribute('aria-expanded', 'false');
          otherButton.nextElementSibling?.classList.add('hidden');
          otherButton.querySelector('svg')?.classList.remove('rotate-180');
        }
      });
      
      button.setAttribute('aria-expanded', (!isExpanded).toString());
      content?.classList.toggle('hidden');
      icon?.classList.toggle('rotate-180');
    });
  });
</script>